<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>CPU的结构和寄存器 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="一个典型的CPU（此处讨论的不是某一具体的CPU）由运算器、控制器、寄存器（CPU工作原理）等器件构成，这些器件靠内部总线相连。前一章所说的总线，相对于CPU内部来说是外部总线。">
<meta property="og:type" content="article">
<meta property="og:title" content="CPU的结构和寄存器">
<meta property="og:url" content="http://example.com/2018/01/24/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="一个典型的CPU（此处讨论的不是某一具体的CPU）由运算器、控制器、寄存器（CPU工作原理）等器件构成，这些器件靠内部总线相连。前一章所说的总线，相对于CPU内部来说是外部总线。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/AX.png">
<meta property="og:image" content="http://example.com/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8%5CAX%E6%8B%86%E5%88%86.png">
<meta property="og:image" content="http://example.com/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4.png">
<meta property="article:published_time" content="2018-01-24T04:04:35.000Z">
<meta property="article:modified_time" content="2024-03-14T12:19:34.902Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="汇编">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/AX.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-CPU的结构和寄存器" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/01/24/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2018-01-24T04:04:35.000Z" itemprop="datePublished">2018-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      CPU的结构和寄存器
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>一个典型的CPU（此处讨论的不是某一具体的CPU）由运算器、控制器、寄存器（CPU工作原理）等器件构成，这些器件靠内部总线相连。前一章所说的总线，相对于CPU内部来说是外部总线。</p>
<span id="more"></span>

<p>内部总线实现CPU内部各个器件之间的联系，外部总线实现CPU和主板上其他器件的联系。简单地说，在 CPU中：</p>
<p>运算器进行信息处理；</p>
<p>寄存器进行信息存储；</p>
<p> 控制器控制各种器件进行工作；</p>
<p> 内部总线连接各种器件，在它们之间进行数据的传送。</p>
<p>《深入》一书中的结构如下图:</p>
<p>![新文档 2018-01-24_1](CPU的结构和寄存器\新文档 2018-01-24_1.jpg)</p>
<p>PC是指程序计数器，书中原话是“处理器的核心是一个字长的存储设备（或寄存器），称为程序计数器（PC）”，“寄存器文件是一个小的存储设备，由一些1字长的寄存器组成，每个寄存器都有唯一的名字”，“ALU计算新的数据和地址值”。？？？emm,恕我愚钝，看不懂，不知是翻译的锅，还是原作的锅，这段狗屁不通。</p>
<p>对于一个汇编程序员来说，CPU中的主要部件是寄存器。寄存器是CPU中程序员可以用指令读写的部件。程序员通过改变各种寄存器中的内容来实现对CPU的控制。不同的CPU，寄存器的个数、结构是不相同的。8086CPU有 14个寄存器，每个寄存器有一个名称。这些寄存器是：AX、BX、CX、DX、SI、DI、SP、BP、IP、CS、SS、DS、ES、PSW。</p>
<h1 id="通用寄存器"><a href="#通用寄存器" class="headerlink" title="通用寄存器"></a>通用寄存器</h1><p>8086CPU的所有寄存器都是16位的，可以存放两个字节。AX、BX、CX、DX这4个寄存器通常用来存放一般性的数据，被称为通用寄存器。<br>以AX为例，寄存器的逻辑结构如图所示。</p>
<p><img src="/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/AX.png" alt="AX寄存器"></p>
<p>其存放的最大值是2^16。</p>
<p>8086CPU的上一代CPU中的寄存器都是8位的，为了保证兼容，8086CPU的AX，BX，CX，DX这四个寄存器都可以分为两个独立使用的8位寄存器（高位字节，低位字节）来使用：</p>
<ul>
<li><p>AX可分为AH和AL;</p>
</li>
<li><p>BX可分为BH和BL;</p>
</li>
<li><p>CX可分为CH和CL;</p>
</li>
<li><p>DX可分为DH和DL。</p>
</li>
</ul>
<p>以AX表示20000（D）为例：</p>
<p><img src="/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8%5CAX%E6%8B%86%E5%88%86.png" alt="AX拆分"></p>
<h1 id="字在寄存器中的存储"><a href="#字在寄存器中的存储" class="headerlink" title="字在寄存器中的存储"></a>字在寄存器中的存储</h1><p>出于兼容性考虑，8086CPU可以一次性处理两种尺寸的数据。</p>
<ul>
<li><p>字节：记为byte, —个字节由8 个 bit组成，可以存在8 位寄存器中。</p>
</li>
<li><p>字：记 为 word, 一个字由两个字节组成，这两个字节分别称为这个字的高位字节和低位字节。</p>
</li>
</ul>
<p>字：16bit；字节：8bit。在上图中，20000（D）表示为01001100 01000000，共16位，如果分开的话分别表示78和32。</p>
<h1 id="几条汇编指令"><a href="#几条汇编指令" class="headerlink" title="几条汇编指令"></a>几条汇编指令</h1><p><img src="/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4.png" alt="汇编指令"></p>
<p>简单来说：指令内容 目标 内容或位置（不区分大小写）</p>
<p>下表是练习1（H表示十六进制）</p>
<table>
<thead>
<tr>
<th>程序段中的指令</th>
<th align="center">指令执行后AX中的数据</th>
<th align="center">指令执行后BX中的数据</th>
</tr>
</thead>
<tbody><tr>
<td>mov ax,4E20H</td>
<td align="center">4E20H</td>
<td align="center">0000H</td>
</tr>
<tr>
<td>add ax,1406H</td>
<td align="center">6226H</td>
<td align="center">0000H</td>
</tr>
<tr>
<td>mov bx,2000H</td>
<td align="center">6226H</td>
<td align="center">2000H</td>
</tr>
<tr>
<td>add ax,bx</td>
<td align="center">8226H</td>
<td align="center">8226H</td>
</tr>
<tr>
<td>mov bx,ax</td>
<td align="center">8226H</td>
<td align="center">8226H</td>
</tr>
<tr>
<td>add ax,bx</td>
<td align="center"><strong>044CH</strong></td>
<td align="center">8226H</td>
</tr>
</tbody></table>
<p>最后一行的044CH是因为8226H+8226H&#x3D;1044CH，但是寄存器里放不下1。</p>
<p>练习2：</p>
<table>
<thead>
<tr>
<th>程序段中的指令</th>
<th align="center">指令执行后AX中的数据</th>
<th align="center">指令执行后BX中的数据</th>
</tr>
</thead>
<tbody><tr>
<td>mov ax,001AH</td>
<td align="center">001AH</td>
<td align="center">0000H</td>
</tr>
<tr>
<td>mov bx,0026H</td>
<td align="center">001AH</td>
<td align="center">0026H</td>
</tr>
<tr>
<td>add al,bl</td>
<td align="center">0040H</td>
<td align="center">0026H</td>
</tr>
<tr>
<td>add ah,bl</td>
<td align="center">2640H</td>
<td align="center">0026H</td>
</tr>
<tr>
<td>add bh,al</td>
<td align="center">2640H</td>
<td align="center">4026H</td>
</tr>
<tr>
<td>mov ah,0</td>
<td align="center">0040H</td>
<td align="center">4026H</td>
</tr>
<tr>
<td>add al,85H</td>
<td align="center">00C5H</td>
<td align="center">4026H</td>
</tr>
<tr>
<td>add al,93H</td>
<td align="center"><strong>0058H</strong></td>
<td align="center">4026H</td>
</tr>
</tbody></table>
<p>同理，C5+85&#x3D;158，只保留了58。然而，舍弃的数值不是真的丢了。这里如果改为add ax,93H,则结果为0158H。</p>
<p>注意，al是作为一个独立的8 位寄存器来使用的，和 ah没有关系，CPU在执行 这条指令时认为ah和 al是两个不相关的寄存器。不要错误地认为，诸如add al,93H的指 令产生的进位会存储在ah中，add al,93H进行的是8 位运算。</p>
<p>注意，在进行运算或传送时，一定要保证两个操作对象的位数是一致的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov ax,bl	（在 8位寄存器和16位寄存器之间传送数据）</span><br><span class="line">mov bh,ax	（在 16位寄存器和8位寄存器之间传送数据）</span><br><span class="line">mov al,20000 	（8位寄存器最大可存放值为255的数据）</span><br><span class="line">add al,100H		 (将一个高于8位的数据加到一个8位寄存器中）</span><br></pre></td></tr></table></figure>



<h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mov ax, 62627	  AX=F4A3H</span><br><span class="line"></span><br><span class="line">mov ah,31H	     AX=31A3H</span><br><span class="line"></span><br><span class="line">mov al,23H		 AX=3123H</span><br><span class="line"></span><br><span class="line">add ax,ax		  AX=6246H</span><br><span class="line"></span><br><span class="line">mov bx,826CH	   BX=826CH</span><br><span class="line"></span><br><span class="line">mov cx,ax		  CX=6246H</span><br><span class="line"></span><br><span class="line">mov ax,bx		  AX=826CH</span><br><span class="line"></span><br><span class="line">add ax,bx	 	 AX=04D8H</span><br><span class="line"></span><br><span class="line">mov al,bh	 	 AX=0482H</span><br><span class="line"></span><br><span class="line">mov ah,bl	 	 AX=6C82H</span><br><span class="line"></span><br><span class="line">add ah,ah	 	 AX=D882H</span><br><span class="line"></span><br><span class="line">add al, 6		  AX=D888H</span><br><span class="line"></span><br><span class="line">add al,al		  AX=D810H</span><br><span class="line"></span><br><span class="line">mov ax,cx		  AX=6246H</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#编程计算2^4</span><br><span class="line">mov ax,2</span><br><span class="line">add ax,ax	#ax=2+2</span><br><span class="line">add ax,ax	#ax=4+4</span><br><span class="line">add ax,ax	#ax=8+8</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/01/24/CPU%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8/" data-id="cltr7868b0004k4un8u4y7so8" data-title="CPU的结构和寄存器" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B1%87%E7%BC%96/" rel="tag">汇编</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/01/27/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B02/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          深入理解计算机系统读书笔记2
        
      </div>
    </a>
  
  
    <a href="/2018/01/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">计算机总线</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/" rel="tag">OpenCV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/" rel="tag">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp/" rel="tag">cpp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%87%E7%BC%96/" rel="tag">汇编</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/VS/" style="font-size: 10px;">VS</a> <a href="/tags/cpp/" style="font-size: 17.5px;">cpp</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 10px;">杂谈</a> <a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 15px;">汇编</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 12.5px;">网络</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 12.5px;">读书笔记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/08/%E7%BA%BF%E6%80%A7%E8%A1%A8/">线性表</a>
          </li>
        
          <li>
            <a href="/2018/11/03/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-2/">网络原理(2)</a>
          </li>
        
          <li>
            <a href="/2018/10/26/html%E6%80%BB%E7%BB%93/">html总结</a>
          </li>
        
          <li>
            <a href="/2018/10/25/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-1/">网络原理(1)</a>
          </li>
        
          <li>
            <a href="/2018/08/18/Java%E7%9A%84JDBC/">Java的JDBC</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>